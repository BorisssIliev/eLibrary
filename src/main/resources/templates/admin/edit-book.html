<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–†–µ–¥–∞–∫—Ü–∏—è –Ω–∞ –∫–Ω–∏–≥–∞</title>
    <link rel="stylesheet" th:href="@{/css/admin-style.css}">
</head>
<body>

<header>
    <h1>‚úèÔ∏è –†–µ–¥–∞–∫—Ü–∏—è –Ω–∞ –∫–Ω–∏–≥–∞</h1>
    <a href="/v1/admin" class="btn">‚¨Ö –ù–∞–∑–∞–¥</a>
</header>

<main>
    <!-- üìñ –§–æ—Ä–º–∞ –∑–∞ —Ä–µ–¥–∞–∫—Ü–∏—è –Ω–∞ –∫–Ω–∏–≥–∞ -->
    <form th:action="@{|/v1/admin/book/${bookId}/edit|}"
          th:object="${book}"
          method="post">

        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

        <label for="title">–ó–∞–≥–ª–∞–≤–∏–µ:</label>
        <input type="text" id="title" th:field="*{title}" required/>

        <label for="author">–ê–≤—Ç–æ—Ä:</label>
        <input type="text" id="author" th:field="*{author}" required/>

        <label for="genre">–ñ–∞–Ω—Ä:</label>
        <input type="text" id="genre" th:field="*{genre}"/>

        <label for="summary">–†–µ–∑—é–º–µ:</label>
        <textarea id="summary" th:field="*{summary}" rows="5"></textarea>

        <label for="isbn">ISBN:</label>
        <input type="text" id="isbn" th:field="*{isbn}"/>

        <label for="publicationDate">–î–∞—Ç–∞ –Ω–∞ –ø—É–±–ª–∏–∫—É–≤–∞–Ω–µ:</label>
        <input type="date" id="publicationDate" th:field="*{publicationDate}" required/>

        <button type="submit" class="btn">üíæ –ó–∞–ø–∞–∑–∏ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ</button>
    </form>

    <!-- üí¨ –ö–æ–º–µ–Ω—Ç–∞—Ä–∏ -->
    <section style="margin-top: 40px;">
        <h2>üí¨ –ö–æ–º–µ–Ω—Ç–∞—Ä–∏ –∫—ä–º –∫–Ω–∏–≥–∞—Ç–∞</h2>

        <table>
            <thead>
            <tr>
                <th>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª</th>
                <th>–ö–æ–º–µ–Ω—Ç–∞—Ä</th>
                <th>–î–∞—Ç–∞</th>
                <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="comment : ${comments}">
                <td th:text="${comment.user.firstName + ' ' + comment.user.lastName}">–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª</td>
                <td th:text="${comment.content}">–¢–µ–∫—Å—Ç</td>
                <td th:text="${#temporals.format(comment.createdAt, 'dd.MM.yyyy HH:mm')}">–î–∞—Ç–∞</td>
                <td>
                    <form th:action="@{|/v1/admin/comment/${comment.id}/delete|}" method="post" style="display:inline;">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                        <button type="submit" onclick="return confirm('–ù–∞–∏—Å—Ç–∏–Ω–∞ –ª–∏ –∏—Å–∫–∞—Ç–µ –¥–∞ –∏–∑—Ç—Ä–∏–µ—Ç–µ —Ç–æ–∑–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä?')">üóë</button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </section>

</main>

</body>
</html>
